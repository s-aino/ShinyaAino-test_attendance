# 勤怠データの設計について

本アプリでは  
**自動退勤を行わず、必ず人の確認を介す設計**を採用しています。

---

## 勤怠の基本方針
- 1日1勤怠前提
- 0時を跨いでも自動退勤はしない
- 退勤・休憩戻りは必須入力
- 打刻ミスは「修正申請」で対応

---

## 勤怠データの流れ

1. 出勤打刻
2. 休憩（任意・複数回）
3. 退勤打刻  
   ※ 未退勤の場合は退勤カラムは NULL

---

## 修正申請について

### 対象
- 出勤時間
- 退勤時間
- 休憩時間（休憩入が存在する場合のみ）

### 申請時の制約
- 退勤時間・休憩戻り時間は必須
- 不完全な勤怠は登録できない

---

## 申請中の表示仕様（★追加仕様）

COACHTECH要件には  
**「修正前の時間を確認する場所」**が明示されていないため、

本アプリでは以下の仕様を採用しています。

### 仕様内容
- 申請中（pending）の間は
- **勤怠一覧・申請一覧ともに修正前の時間を表示**
- 承認後に初めて DB の勤怠情報が更新される

### 目的
- 何を修正申請しているかを一覧画面だけで把握可能
- 管理者・スタッフ双方の確認負荷を軽減

